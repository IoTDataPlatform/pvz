{
  "name": "mqtt-sensors-source",
  "config": {
    "connector.class": "com.datamountaineer.streamreactor.connect.mqtt.source.MqttSourceConnector",
    "tasks.max": "1",

    "connect.mqtt.hosts": "tcp://mqtt-broker:1883",
    "connect.mqtt.client.id": "mqtt-sensors-source-1",

    "connect.mqtt.connection.clean": "true",
    "connect.mqtt.connection.timeout": "3000",
    "connect.mqtt.connection.keep.alive": "1000",
    "connect.mqtt.service.quality": "1",
    "connect.mqtt.converter.throw.on.error": "true",

    "connect.mqtt.kcql": "INSERT INTO mqtt_humidity SELECT * FROM +/+/sensors/+/humidity WITHCONVERTER=`com.datamountaineer.streamreactor.connect.converters.source.JsonSimpleConverter`;INSERT INTO mqtt_location SELECT * FROM +/+/sensors/+/location WITHCONVERTER=`com.datamountaineer.streamreactor.connect.converters.source.JsonSimpleConverter` WITHKEY(d);INSERT INTO mqtt_state SELECT * FROM +/+/sensors/+/state WITHCONVERTER=`com.datamountaineer.streamreactor.connect.converters.source.JsonSimpleConverter` WITHKEY(d);INSERT INTO mqtt_device_acks SELECT * FROM +/+/devices/+/ack WITHCONVERTER=`com.datamountaineer.streamreactor.connect.converters.source.JsonSimpleConverter`",

    "transforms": "FixSchema",
    "transforms.FixSchema.type": "org.apache.kafka.connect.transforms.SetSchemaMetadata$Value",
    "transforms.FixSchema.schema.name": "MqttHumidity"
  }
}
